# Getting Started with Amplify CLI
This directory was generated by [Amplify CLI](https://docs.amplify.aws/cli).

Helpful resources:
- Amplify documentation: https://docs.amplify.aws
- Amplify CLI documentation: https://docs.amplify.aws/cli
- More details on this folder & generated files: https://docs.amplify.aws/cli/reference/files
- Join Amplify's community: https://amplify.aws/community/

### IAM

### graphql api
- schema.graphql
    - query (call lambda)
    - public data (track user)
- using appsync

### auth

### working on lambda [function](/backend/function/quoteLambda/src/index.js)
1. setup
    - add dependencies in [package.json](/backend/function/quoteLambda/src/package.json): `@types/node`, `node-fetch`, `sharp`, `path`
        + _note: be careful when install sharp for `serverless-esbuild`_
    - update function in amplify (access control): as the function is running, update the database 
        - `amplify update function` -> storage -> read, update
        - got environment variable generated from amplify
    - add aws package(`require('aws-sdk')`), 
    - create new dynamoDB document client `new AWS.DynamoDB.DocumentClient()`
    - add image processing package
2. function
    - __update DynamoDB table__ (async function)
        + when a new item is created, increment by 1
        + the updated value will then pass to the webpage, to update the 'Quote Generated'
    - __svg -> /base64__
    	- fetch a random quote
    	- turn text of quote into lines (quote lines received)
    	- turn text of author into a line (quote author)
    	- turn elements into svg format (render)
    	- svg -> **/base64 string**
        - the string will then be decoded at the front end 

### run test & debug in lambda
- package.json
    + add build scripts for sharp
    + edit build settings in the cloud